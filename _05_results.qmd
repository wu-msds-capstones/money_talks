# Results

This section presents the performance evaluation of our XGBoost-based manipulation detection system applied to Apple Inc. (AAPL) Level 2 market data. Our analysis focused on three key areas: overall classification performance, model interpretability through feature importance analysis, and practical implications for real-world deployment.

## Dataset Overview and Model Performance

Our final dataset consisted of 148,340 Level 2 quote observations from Apple stock trading, with a significant class imbalance reflecting the real-world rarity of manipulation events. The dataset contained 146,857 normal trading observations (99.0%) and 1,483 labeled anomalous events (1.0%), creating a challenging but realistic detection scenario that mirrors actual market surveillance conditions.

After implementing the `scale_pos_weight` optimization to address class imbalance, our XGBoost classifier demonstrated strong performance in detecting rare manipulation events while maintaining low false positive rates. The model achieved an overall accuracy of 99%, though this metric can be misleading in highly imbalanced scenarios and must be interpreted alongside precision and recall measures.

The pipeline 

## Detailed Performance Analysis

Our model's performance breakdown reveals important insights into the practical applicability of machine learning for manipulation detection:

**Normal Trading Detection (Class 0):** The model achieved near-perfect performance for normal trading identification, with precision of 1.00 (100% of predicted normal events were actually normal), recall of 0.99 (99% of actual normal events were correctly identified), and an F1-score of 0.99. This high performance on the majority class indicates the model successfully learned to distinguish standard market-making and trading patterns.

**Anomaly Detection (Class 1):** Performance on manipulation detection proved more challenging but practically meaningful. The model achieved precision of 0.41 (41% of predicted anomalies were actual manipulation events) and recall of 0.89 (89% of actual manipulation events were successfully detected), resulting in an F1-score of 0.56. 

The high recall (89%) demonstrates the model's ability to catch the vast majority of manipulation attempts, which is critical for market surveillance applications where missing manipulation events could result in significant market harm. The moderate precision (41%) indicates that approximately 6 out of 10 alerts would be false positives, requiring human investigation but representing a manageable workload for compliance teams.

**Aggregate Performance Metrics:** The macro average F1-score of 0.78 reflects balanced performance across both classes, while the weighted average of 0.99 is dominated by the majority class. For manipulation detection applications, the macro average provides a more meaningful assessment of overall system effectiveness.

## Confusion Matrix Analysis

Figure 1 displays the confusion matrix visualization, providing intuitive insight into model performance patterns. The matrix reveals that our model correctly identified 1,318 of 1,483 actual manipulation events (89% recall), while generating 1,884 false positive alerts from the 146,857 normal observations (1.3% false positive rate).

![Figure 1: Confusion Matrix for XGBoost Manipulation Detection Model](model_predictions.png)

This false positive rate translates to approximately 18-20 false alerts per trading day for a single stock, which represents a manageable investigation workload for market surveillance teams while maintaining high detection sensitivity.

## Feature Importance and Model Interpretability

The XGBoost feature importance analysis reveals which market microstructure characteristics most effectively distinguish manipulation from normal trading activity. Figure 2 presents the ranked feature importance based on information gain, providing crucial insights for both model validation and practical implementation.

![Figure 2: Feature Importance Rankings for Market Manipulation Detection](feature_importance.png)

The feature importance analysis demonstrates that our selected market microstructure variables effectively capture manipulation patterns, with each feature contributing meaningfully to the detection process. This interpretability proves essential for regulatory applications, where surveillance systems must provide explainable rationale for flagging suspicious trading activity.

The balanced contribution across features suggests that manipulation detection benefits from a holistic approach incorporating multiple market microstructure indicators rather than relying on any single metric, supporting our multi-feature engineering strategy [@Chen2016].

